# Production Environment Configuration
# This shows what Cloud Run sets automatically
# DO NOT create a .env file in production - use Secret Manager!

# ============================================================================
# Google Cloud Configuration (set by deployment script)
# ============================================================================
PROJECT_ID=periodicdent42
LOCATION=us-central1
ENVIRONMENT=production

# ============================================================================
# SECURITY CONFIGURATION (REQUIRED IN PRODUCTION)
# ============================================================================

# Authentication - MUST be true in production
ENABLE_AUTH=true

# API Key - Loaded from Secret Manager secret: api-key
# Set via: --set-secrets="API_KEY=api-key:latest"
# DO NOT set this manually - Cloud Run loads it from Secret Manager
API_KEY=<loaded-from-secret-manager>

# CORS Origins - Set to your actual frontend domains
# Example: ALLOWED_ORIGINS=https://app.example.com,https://dashboard.example.com
ALLOWED_ORIGINS=https://your-frontend-domain.com

# Rate Limiting - Increase for production traffic
RATE_LIMIT_PER_MINUTE=120

# ============================================================================
# Database Configuration (if using Cloud SQL)
# ============================================================================

# Loaded from Secret Manager
GCP_SQL_INSTANCE=<loaded-from-secret-manager>
DB_PASSWORD=<loaded-from-secret-manager>
DB_USER=ard_user
DB_NAME=ard_intelligence

# ============================================================================
# Cloud Storage
# ============================================================================

# Loaded from Secret Manager
GCS_BUCKET=<loaded-from-secret-manager>

# ============================================================================
# Server Configuration
# ============================================================================

PORT=8080
LOG_LEVEL=INFO
ENABLE_METRICS=true
ENABLE_TRACING=true

# ============================================================================
# HOW THIS IS DEPLOYED
# ============================================================================
#
# All secrets are managed in Google Cloud Secret Manager.
# The deployment script (infra/scripts/deploy_cloudrun.sh) automatically:
#
# 1. Sets environment variables via --set-env-vars
# 2. Loads secrets via --set-secrets
# 3. Grants service account access to secrets
#
# To update a secret:
#   gcloud secrets versions add SECRET_NAME --data-file=-
#
# To update environment variables:
#   gcloud run services update ard-backend \
#     --update-env-vars="KEY=value"
#
# ============================================================================

